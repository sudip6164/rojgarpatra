{% extends 'base.html' %}

{% block title %}{{ resume.title }} - RojgarPatra{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-6">
        <div class="flex justify-between items-start mb-6">
            <div>
                <h1 class="text-3xl font-bold text-gray-900">{{ resume.title }}</h1>
                <p class="text-gray-600 mt-2">Created: {{ resume.created_at|date:"M d, Y" }}</p>
                <p class="text-gray-600">Last updated: {{ resume.updated_at|date:"M d, Y" }}</p>
            </div>
            <div class="flex space-x-2">
                <a href="{% url 'resumes:edit' resume.id %}" 
                   class="bg-primary text-white px-4 py-2 rounded-md hover:bg-indigo-600">
                    Edit
                </a>
                <a href="{% url 'resumes:preview' resume.id %}" 
                   class="bg-accent text-white px-4 py-2 rounded-md hover:bg-green-600">
                    Preview
                </a>
                <a href="{% url 'resumes:download_pdf' resume.id %}" 
                   class="bg-secondary text-white px-4 py-2 rounded-md hover:bg-gray-600">
                    Download PDF
                </a>
                <a href="{% url 'resumes:delete' resume.id %}" 
                   class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600">
                    Delete
                </a>
            </div>
        </div>
        
        <!-- Personal Information -->
        <div class="border-b border-gray-200 pb-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Personal Information</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <p class="text-sm text-gray-600">Full Name</p>
                    <p class="font-medium">{{ resume.full_name }}</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Email</p>
                    <p class="font-medium">{{ resume.email }}</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Phone</p>
                    <p class="font-medium">{{ resume.phone }}</p>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Address</p>
                    <p class="font-medium">{{ resume.address }}</p>
                </div>
            </div>
            
            {% if resume.linkedin_url or resume.github_url or resume.portfolio_url %}
                <div class="mt-4">
                    <p class="text-sm text-gray-600 mb-2">Social Links</p>
                    <div class="flex space-x-4">
                        {% if resume.linkedin_url %}
                            <a href="{{ resume.linkedin_url }}" target="_blank" class="text-primary hover:text-indigo-600">LinkedIn</a>
                        {% endif %}
                        {% if resume.github_url %}
                            <a href="{{ resume.github_url }}" target="_blank" class="text-primary hover:text-indigo-600">GitHub</a>
                        {% endif %}
                        {% if resume.portfolio_url %}
                            <a href="{{ resume.portfolio_url }}" target="_blank" class="text-primary hover:text-indigo-600">Portfolio</a>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        </div>
        
        <!-- Skills -->
        <div class="border-b border-gray-200 pb-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Skills</h2>
            <div class="flex flex-wrap gap-2">
                {% for skill in resume.skills_list %}
                    <span class="bg-primary text-white px-3 py-1 rounded-full text-sm">{{ skill }}</span>
                {% endfor %}
            </div>
        </div>
        
        <!-- Education -->
        {% if resume.education.all %}
            <div class="border-b border-gray-200 pb-6 mb-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Education</h2>
                {% for education in resume.education.all %}
                    <div class="mb-4 last:mb-0">
                        <h3 class="font-semibold text-gray-900">{{ education.degree }}</h3>
                        <p class="text-gray-700">{{ education.institution }}</p>
                        {% if education.field_of_study %}
                            <p class="text-gray-600">{{ education.field_of_study }}</p>
                        {% endif %}
                        <p class="text-sm text-gray-600">
                            {{ education.start_date|date:"M Y" }} - 
                            {% if education.is_current %}Present{% else %}{{ education.end_date|date:"M Y" }}{% endif %}
                        </p>
                        {% if education.grade %}
                            <p class="text-sm text-gray-600">Grade: {{ education.grade }}</p>
                        {% endif %}
                        {% if education.description %}
                            <p class="text-gray-700 mt-2">{{ education.description }}</p>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        <!-- Work Experience -->
        {% if resume.work_experience.all %}
            <div class="border-b border-gray-200 pb-6 mb-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Work Experience</h2>
                {% for work in resume.work_experience.all %}
                    <div class="mb-4 last:mb-0">
                        <h3 class="font-semibold text-gray-900">{{ work.position }}</h3>
                        <p class="text-gray-700">{{ work.company }}</p>
                        {% if work.location %}
                            <p class="text-gray-600">{{ work.location }}</p>
                        {% endif %}
                        <p class="text-sm text-gray-600">
                            {{ work.start_date|date:"M Y" }} - 
                            {% if work.is_current %}Present{% else %}{{ work.end_date|date:"M Y" }}{% endif %}
                        </p>
                        <p class="text-gray-700 mt-2">{{ work.description|linebreaks }}</p>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        <!-- Extracurricular Activities -->
        {% if resume.extracurricular_activities.all %}
            <div class="pb-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Extracurricular Activities</h2>
                {% for activity in resume.extracurricular_activities.all %}
                    <div class="mb-4 last:mb-0">
                        <h3 class="font-semibold text-gray-900">{{ activity.title }}</h3>
                        {% if activity.organization %}
                            <p class="text-gray-700">{{ activity.organization }}</p>
                        {% endif %}
                        <p class="text-sm text-gray-600">
                            {{ activity.start_date|date:"M Y" }} - 
                            {% if activity.is_current %}Present{% else %}{{ activity.end_date|date:"M Y" }}{% endif %}
                        </p>
                        <p class="text-gray-700 mt-2">{{ activity.description|linebreaks }}</p>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
